# Calendar uses this fields.yaml
# For create and update forms
# because we are really creating the first eventpart, with associated 1-1 event
fields:
    name:
        label: acorn.calendar::lang.models.general.name
        span: auto
        type: text
        translatable: true
    type:
        label: acorn.calendar::lang.models.eventpart.type
        nameFrom: name
        descriptionFrom: description
        default: 2f766546-e4c9-11ef-be8c-1f2daa98a10f
        span: auto
        type: relation
        permissions:
            - acorn.calendar.view_all_fields
            - acorn.calendar.change_all_fields
            - acorn.calendar.view_type
            - acorn.calendar.change_type
tabs:
    fields:
        description:
            type: richeditor
            size: large
            translatable: true
            tab: acorn.calendar::lang.models.eventpart.content
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_description
                - acorn.calendar.change_description
        start:
            label: acorn.calendar::lang.models.eventpart.start
            mode: datetime
            span: auto
            type: datepicker
            tab: acorn.calendar::lang.models.eventpart.time
        end:
            label: acorn.calendar::lang.models.eventpart.end
            mode: datetime
            span: auto
            type: datepicker
            tab: acorn.calendar::lang.models.eventpart.time
        alarm:
            label: acorn.calendar::lang.models.eventpart.reminder
            span: auto
            type: dropdown
            tab: acorn.calendar::lang.models.eventpart.time
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_alarm
                - acorn.calendar.change_alarm
        repeat:
            label: acorn.calendar::lang.models.eventpart.repeat
            span: auto
            type: radio
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_repeat
                - acorn.calendar.change_repeat
        mask:
            label: acorn.calendar::lang.models.eventpart.days
            options:
                1: acorn.calendar::lang.models.calendar.weekdays.0
                2: acorn.calendar::lang.models.calendar.weekdays.1
                4: acorn.calendar::lang.models.calendar.weekdays.2
                8: acorn.calendar::lang.models.calendar.weekdays.3
                16: acorn.calendar::lang.models.calendar.weekdays.4
                32: acorn.calendar::lang.models.calendar.weekdays.5
                64: acorn.calendar::lang.models.calendar.weekdays.6
            span: auto
            disabled: false
            readOnly: false
            hidden: false
            trigger:
                action: show
                field: repeat
                condition: 'value[1 day]'
            type: checkboxlist
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_mask
                - acorn.calendar.change_mask
        repeat_frequency:
            label: acorn.calendar::lang.models.eventpart.repeat_frequency
            span: auto
            default: '1'
            disabled: false
            type: number
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_repeat_frequency
                - acorn.calendar.change_repeat_frequency
        mask_type:
            label: acorn.calendar::lang.models.eventpart.mask_type
            options:
                dow: 'Day of the Week'
            showSearch: true
            span: auto
            type: dropdown
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_mask_type
                - acorn.calendar.change_mask_type
        parentEventPart:
            label: acorn.calendar::lang.models.eventpart.container_event
            nameFrom: name
            descriptionFrom: description
            span: auto
            type: relation
            emptyOption: acorn::lang.models.general.none
            comment: 'All instances will be contained within this parent event'
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_parent_event_part
                - acorn.calendar.change_parent_event_part
        until:
            label: acorn.calendar::lang.models.eventpart.until
            mode: datetime
            span: auto
            default: ''
            type: datepicker
            tab: acorn.calendar::lang.models.eventpart.repetition
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_until
                - acorn.calendar.change_until
        status:
            label: acorn.calendar::lang.models.eventpart.status
            nameFrom: name
            descriptionFrom: description
            default: 27446472-e4c9-11ef-bde0-9b663c96a619 # Normal
            span: auto
            type: relation
            tab: acorn.calendar::lang.models.eventpart.attributes
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_status
                - acorn.calendar.change_status
        event[calendar]:
            label: acorn.calendar::lang.models.calendar.label
            nameFrom: name
            default: ceea8856-e4c8-11ef-8719-5f58c97885a2 # Default calendar
            descriptionFrom: description
            span: auto
            type: relation
            tab: acorn.calendar::lang.models.eventpart.attributes
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_calendar
                - acorn.calendar.change_calendar
        # TODO: users:
        #     label: acorn.calendar::lang.models.eventpart.attendees
        #     nameFrom: name
        #     descriptionFrom: role
        #     span: auto
        #     type: relationmanager
        #     setting: Acorn\Calendar\Models\Settings::user_invites
        #     tab: acorn.calendar::lang.models.eventpart.people
        # TODO: groups:
        #     label: acorn.calendar::lang.models.eventpart.groups
        #     span: auto
        #     nameFrom: name
        #     descriptionFrom: description
        #     type: relationmanager
        #     setting: Acorn\Calendar\Models\Settings::multi_group_invites
        #     tab: acorn.calendar::lang.models.eventpart.people
        user_group_version:
            label: acorn.user::lang.models.usergroup.label
            type: dropdown
            options: Acorn\User\Models\UserGroupVersion::dropdownOptions
            emptyOption: acorn::lang.models.general.none
            span: auto
            settingNot: Acorn\Calendar\Models\Settings::multi_group_invites
            tab: acorn.calendar::lang.models.eventpart.people
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_user_group_version
                - acorn.calendar.change_user_group_version
        location:
            label: acorn.calendar::lang.models.general.location
            nameFrom: name
            descriptionFrom: description
            span: auto
            type: relation
            emptyOption: acorn::lang.models.general.none
            tab: acorn.calendar::lang.models.eventpart.place
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_location
                - acorn.calendar.change_location
        event[owner_user]:
            label: acorn.calendar::lang.models.general.owner_user
            nameFrom: name
            descriptionFrom: description
            span: auto
            type: relation
            tab: acorn.calendar::lang.models.eventpart.security
            emptyOption: acorn::lang.models.general.current_user
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_owner_user
                - acorn.calendar.change_owner_user
        event[owner_user_group]:
            label: acorn.calendar::lang.models.general.owner_group
            nameFrom: name
            descriptionFrom: description
            emptyOption: acorn::lang.models.general.none
            span: auto
            type: relation
            tab: acorn.calendar::lang.models.eventpart.security
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_owner_user_group
                - acorn.calendar.change_owner_user_group
        event[permissions]:
            label: acorn.calendar::lang.models.general.permissions
            type: partial
            default: 79
            path: permissions
            tab: acorn.calendar::lang.models.eventpart.security
            permissions:
                - acorn.calendar.view_all_fields
                - acorn.calendar.change_all_fields
                - acorn.calendar.view_permissions
                - acorn.calendar.change_permissions
